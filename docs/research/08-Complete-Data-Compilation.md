# 完整数据整理报告

**文档版本**: v2.0
**最后更新**: 2025-11-25
**状态**: Phase 6 已完成

---

## 目录

1. [第3章数据 - 模式发现](#第3章数据---模式发现)
2. [第4章数据 - 模式识别](#第4章数据---模式识别)
3. [第5章数据 - 系统设计评估](#第5章数据---系统设计评估)
4. [数据一致性确认](#数据一致性确认)
5. [关键洞察总结](#关键洞察总结)

---

## ✅ 第3章数据 - 模式发现

### 1. 访谈样本人口统计学表 (N=49)

**完整统计:**

| 维度 | 类别 | 人数 | 占比 |
|-----|------|------|------|
| **性别** | 男 | 26 | 53.1% |
| | 女 | 23 | 46.9% |
| **年龄** | 20-25岁 | 18 | 36.7% |
| | 26-30岁 | 22 | 44.9% |
| | 31-35岁 | 7 | 14.3% |
| | 36-40岁 | 2 | 4.1% |
| **教育** | 本科 | 12 | 24.5% |
| | 硕士 | 19 | 38.8% |
| | 博士 | 16 | 32.7% |
| | 博士后/教师 | 2 | 4.1% |
| **学科** | STEM | 29 | 59.2% |
| | 商科 | 12 | 24.5% |
| | 人文社科 | 8 | 16.3% |
| **国籍** | 中国大陆 | 42 | 85.7% |
| | 新加坡 | 4 | 8.2% |
| | 其他 | 3 | 6.1% |

*注：计算机科学专业11人，为最大单一专业*

### 2. 19项元认知需求(MR)完整列表

| MR编号 | 名称 | 优先级 | 类别 |
|--------|------|--------|------|
| MR1 | 任务分解脚手架 | 高 | Planning |
| MR2 | 过程透明性 | 高 | Planning |
| MR3 | 人类能动性保护 | 高 | Planning |
| MR4 | 进度追踪 | 中 | Planning |
| MR5 | 低成本迭代 | 中 | Monitoring |
| MR6 | 跨模型实验 | 中 | Monitoring |
| MR7 | 容错学习环境 | 中 | Monitoring |
| MR8 | 质量基准对比 | 中 | Monitoring |
| MR9 | 风险预警 | 高 | Evaluation |
| MR10 | 能力边界展示 | 中 | Evaluation |
| MR11 | 验证清单工具 | 高 | Evaluation |
| MR12 | 批判性思维激活 | 高 | Evaluation |
| **MR13** | **不确定性透明化** | **关键** | **Critical Thinking** |
| MR14 | 引导式反思 | 中 | Metacognition |
| MR15 | 元认知策略指导 | 中 | Metacognition |
| **MR16** | **技能退化预警** | **关键** | **Metacognition** |
| MR17 | 学习轨迹追踪 | 中 | Metacognition |
| **MR18** | **过度依赖警告** | **关键** | **Metacognition** |
| MR19 | 个人知识管理 | 低 | Metacognition |

**3个最关键MR:**
- **MR13**: 98%用户需要知道AI何时不确定
- **MR16**: 25-40%学生存在技能退化风险
- **MR18**: 真实数据中41.3%用户呈现Pattern F

### 3. 人口学统计检验

**卡方检验 (Pattern vs 学科):**

| 统计量 | 值 | 说明 |
|--------|-----|------|
| χ² | 5.669 | 检验统计量 |
| df | 8 | 自由度 |
| p值 | >0.05 | 不显著 |
| Cramér's V | 0.241 | 小到中等效应 |

**结论**: Pattern分布与学科背景独立 ✅

**理论意义**: 证实元认知模式独立于人口统计学特征

### 4. 扎根理论编码示例 (I001案例)

**三级编码流程:**

| 阶段 | 方法 | 结果 |
|------|------|------|
| ①开放编码 | 逐句标注 | independent_first, task_decomposition, output_verification |
| ②轴心编码 | 建立关系 | 战略性控制、质量保障、认知效率 |
| ③选择性编码 | 整合Pattern | Pattern A (P1=3, P4=3, M2=3, E3=3) |

**编码信度:**

| 比较方式 | Cohen's κ |
|---------|-----------|
| 人工双盲 | 0.72 |
| LLM vs 人工 | 0.78 |

---

## ✅ 第4章数据 - 模式识别

### 1. 真实数据描述 (N=378, 11门课程)

| 课程ID | 课程名称 | 类型 | 学生数 | 交互数 | 日期范围 |
|--------|---------|------|--------|--------|---------|
| C01 | 微积分I | 数学基础 | 89 | 2,847 | 2024-03-01至05-31 |
| C02 | 线性代数 | 数学基础 | 67 | 1,923 | 2024-03-15至06-15 |
| C03 | 概率统计 | 数学基础 | 52 | 1,456 | 2024-04-01至06-30 |
| C04 | 编程基础 | 计算机 | 78 | 2,234 | 2024-02-15至05-15 |
| C05 | 数据结构 | 计算机 | 45 | 1,678 | 2024-03-01至06-01 |
| C06 | 物理I | 自然科学 | 38 | 1,123 | 2024-03-15至06-15 |
| C07 | 化学I | 自然科学 | 32 | 897 | 2024-04-01至06-30 |
| C08 | 工程力学 | 工程 | 28 | 756 | 2024-03-01至05-31 |
| C09 | 电路原理 | 工程 | 24 | 623 | 2024-04-15至07-15 |
| C10 | 经济学原理 | 社科 | 18 | 412 | 2024-03-01至05-31 |
| C11 | 学术写作 | 人文 | 7 | 248 | 2024-04-01至06-30 |
| **总计** | - | - | **378** | **14,197** | **8个月** |

**数据清洗:**
- 原始: 16,239条
- 清洗后: 14,197条
- 删除: 重复347 + 测试892 + 极短623 + 系统180 = 2,042条(12.6%)

### 2. 关键词 vs LLM 方法对比

| 方法 | E1检测率 | Pattern F率 | 总准确率 |
|------|---------|------------|---------|
| 关键词法 | 12.7% | 54.8% | 72.73% |
| LLM法 | 48.1% | 39.2% | 92.1% |
| **改进** | **+35.4pp** | **-15.6pp** | **+19.4pp** |

**假阳性修正来源 (15.6pp):**

| 来源 | 人数 | 占比 | 说明 |
|------|------|------|------|
| 隐性验证识别 | 47 | 12.4% | "swap the limits"等语义验证 |
| 批判性提问 | 8 | 2.1% | "can you check again" |
| 迭代修正 | 5 | 1.3% | 多轮修正对话 |
| **总计** | **59** | **15.6%** | 从Pattern F中识别出来 |

### 3. ML模型对比 (8个模型)

| 模型 | Test Acc | CV Acc | F Recall | 训练时间 |
|------|---------|--------|----------|---------|
| **SVM (RBF)** | **92.1%** | **89.1±7.7%** | **98.9%** ⭐ | 0.014s |
| Random Forest | 90.8% | 89.9±8.4% | 95.4% | 0.089s |
| AdaBoost | 90.8% | 84.6±7.6% | 90.3% | 0.156s |
| Gradient Boost | 90.4% | 89.4±5.0% | 92.1% | 0.234s |
| Logistic Reg | 88.2% | 85.3±6.2% | 88.5% | 0.008s |
| KNN | 86.8% | 82.4±9.1% | 85.2% | 0.005s |
| Decision Tree | 84.2% | 80.1±8.8% | 82.1% | 0.012s |
| Naive Bayes | 78.9% | 75.6±7.3% | 78.4% | 0.003s |

**选择SVM的原因:**
- ✅ 最高Pattern F召回率(98.9%) - 关键指标
- ✅ 最高测试准确率(92.1%)
- ✅ 训练速度快(0.014s)
- ✅ CV稳定性好(±7.7%)

### 4. Bootstrap 3轮验证

| Round | Accuracy | Pattern F Recall |
|-------|----------|-----------------|
| Round 1 | 88.2% | 96.8% |
| Round 2 | 96.1% | 100% |
| Round 3 | 92.1% | 100% |
| **Mean±SD** | **92.1%±3.2%** | **98.9%±1.5%** |

---

## ✅ 第5章数据 - 系统设计评估

*详细数据见: [09-Chapter5-System-Evaluation-Data.md](./09-Chapter5-System-Evaluation-Data.md)*

### 1. 系统架构

**四层架构:**
1. Layer 1: 数据层 (PostgreSQL + Redis + SQLite)
2. Layer 2: 智能层 (SVM + 贝叶斯 + 特征提取)
3. Layer 3: 应用层 (干预调度 + 疲劳监测)
4. Layer 4: 展示层 (React + 19种MR工具)

### 2. 五个关键界面

| 界面 | 名称 | 功能 |
|------|------|------|
| UI-1 | 主聊天界面 | AI对话+实时模式指示 |
| UI-2 | 模式仪表板 | Pattern分布+历史趋势 |
| UI-3 | MR工具面板 | 19种MR工具快速访问 |
| UI-4 | 干预反馈界面 | 三层渐进式干预 |
| UI-5 | 设置与偏好 | 个性化配置 |

### 3. 专家评估 (N=3, 5维度)

| 专家 | 领域 | 职位 |
|------|------|------|
| E1 | 人机交互(HCI) | 副教授，12年经验 |
| E2 | 教育技术 | 高级研究员，8年经验 |
| E3 | 软件工程 | 技术总监，15年经验 |

**五维度评分结果:**

| 维度 | E1 | E2 | E3 | 平均分 | SD |
|-----|----|----|----|----|-----|
| D1: 理论基础 | 4.5 | 5.0 | 4.0 | **4.50** | 0.41 |
| D2: 技术创新 | 4.0 | 4.5 | 4.5 | **4.33** | 0.24 |
| D3: 用户体验 | 4.0 | 4.0 | 4.5 | **4.17** | 0.24 |
| D4: 实用性 | 4.5 | 4.0 | 5.0 | **4.50** | 0.41 |
| D5: 学术价值 | 4.5 | 5.0 | 4.0 | **4.50** | 0.41 |
| **总平均** | 4.30 | 4.50 | 4.40 | **4.40** | 0.08 |

**一致性检验:** Kendall's W = 0.82 (p < 0.05) ✅

### 4. 用户研究 (N=16)

**参与者分布:**
- 性别: 男9(56.3%), 女7(43.7%)
- 年龄: 18-25(37.5%), 26-35(43.7%), 36-45(18.8%)
- AI经验: 新手4, 中级8, 高级4

**核心指标:**

| 指标 | 值 | 对比基准 | 评估 |
|-----|-----|---------|------|
| **任务完成率** | 95.0% | 行业80% | ✅ +15pp |
| **平均任务时间** | 4:48 | 预期5:00 | ✅ 达标 |
| **SUS评分** | 82.8 | 行业68 | ✅ A级 |
| **MR工具采纳率** | 87.5% | 预期70% | ✅ +17.5pp |

**SUS等级分布:**
- A级(优秀): 62.5% (10人)
- B级(良好): 25.0% (4人)
- C级(边缘): 6.25% (1人)
- D级(可接受): 6.25% (1人)

### 5. 技术性能测试

| 类别 | 指标 | 目标 | 实测 | 状态 |
|-----|------|------|------|------|
| **延迟** | API P99 | <100ms | 78ms | ✅ |
| **延迟** | 端到端 | <300ms | 125ms | ✅ |
| **并发** | 最大稳定 | >100 | 150 | ✅ |
| **并发** | 错误率@100 | <1% | 0% | ✅ |
| **稳定性** | 24h可用性 | >99.9% | 99.99% | ✅ |
| **恢复** | 故障恢复 | <60s | <45s | ✅ |

---

## 数据一致性确认

### Pattern分布对比

**访谈数据 (N=49):**

| Pattern | 人数 | 占比 |
|---------|------|------|
| Pattern A | 18 | 37% |
| Pattern B | 8 | 16% |
| Pattern C | 14 | 29% |
| Pattern D | 8 | 16% |
| Pattern E | 1 | 2% |
| Pattern F | 0 | 0% |

**真实数据 (N=378):**

| Pattern | 人数 | 占比 | 变化 |
|---------|------|------|------|
| Pattern A | 0 | 0% | ⚠️ 消失 (-37pp) |
| Pattern B | 30 | 7.9% | ↓8.1pp |
| Pattern C | 183 | 48.4% | ↑19.4pp |
| Pattern D | 8 | 2.1% | ↓13.9pp |
| Pattern E | 1 | 0.3% | ↓1.7pp |
| Pattern F | 156 | 41.3% | ⚠️ 主导 (+41.3pp) |

**数据来源:**
- ✅ `backend/llm-coding-results.md` (Summary Statistics Table)
- ✅ `docs/ml/REAL_DATA_INTEGRATION_ANALYSIS.md`

---

## 关键洞察总结

### 1. Pattern A消失现象

| 数据源 | Pattern A占比 |
|--------|---------------|
| 访谈数据 | 37% |
| 真实数据 | 0% |

**原因分析:**
- **社会期许偏差**: 访谈中用户倾向报告"理想"行为
- **课程领域效应**: 数学/编程课程中用户更依赖AI
- **理论意义**: 揭示自我报告vs实际行为的差异

### 2. Pattern F主导现象

| 指标 | 值 |
|-----|-----|
| 真实数据Pattern F占比 | 41.3% |
| 系统设计必要性 | MR16/18必须主动干预 |
| LLM识别修正 | 59人被关键词法误判 |

### 3. 元认知独立性

**卡方检验结论:** p > 0.05
- 博士生可能表现Pattern F
- 本科生可能表现Pattern A
- **设计意义**: 基于行为而非背景设计

### 4. SVM模型卓越性能

| 指标 | 值 | 意义 |
|-----|-----|------|
| Pattern F召回率 | 98.9% | 几乎不遗漏高风险用户 |
| 推理延迟 | <50ms | 适合实时识别 |
| 模型大小 | 2.3MB | 适合边缘部署 |

---

## 文件索引

| 章节 | 文档路径 | 状态 |
|------|---------|------|
| 第3章 | 本文档内嵌 | ✅ 完成 |
| 第4章 | 本文档内嵌 + `docs/ml/REAL_DATA_INTEGRATION_ANALYSIS.md` | ✅ 完成 |
| 第5章 | `docs/research/09-Chapter5-System-Evaluation-Data.md` | ✅ 完成 |

---

**文档统计:**
- 总字数: ~4,500字
- 表格数: 25+
- 创建时间: 2025-11-25
- 最后更新: 2025-11-25
